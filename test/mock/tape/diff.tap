TAP version 13
# Numbers
not ok 1 Numbers: not equal
  ---
    operator: equal
    expected: 43
    actual:   42
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:4:5)
    stack: |-
      Error: Numbers: not equal
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.strictEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:643:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:4:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
# Array deepEqual failures
not ok 2 Array: mixed
  ---
    operator: deepEqual
    expected: [ 'foo', 'bar', 'qux', null, NaN, Infinity ]
    actual:   [ 42, 'foo', 'bar', 'baz', true, 'qux', undefined ]
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:10:5)
    stack: |-
      Error: Array: mixed
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:10:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
not ok 3 Array: actual missing item
  ---
    operator: deepEqual
    expected: [ 'foo', 'bar', 666 ]
    actual:   [ 'foo', 'bar' ]
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:16:5)
    stack: |-
      Error: Array: actual missing item
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:16:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
not ok 4 Array: actual has extra item
  ---
    operator: deepEqual
    expected: [ 'foo', 'bar' ]
    actual:   [ 'foo', 'bar', 666 ]
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:22:5)
    stack: |-
      Error: Array: actual has extra item
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:22:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
not ok 5 Array: multi-dimensional
  ---
    operator: deepEqual
    expected: |-
      [ [ 'foo', 'bar', 'baz' ], [ 'foo', 'bar', 'baz' ], [ 'foo', 'bar', [ 'foo', 'bar', 'baz' ] ] ]
    actual: |-
      [ [ 'foo', 'bar', 'baz' ], [ 'foo', 'bar', 'qux' ], [ 'foo', 'bar', 'qux' ] ]
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:28:5)
    stack: |-
      Error: Array: multi-dimensional
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:28:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
# Object deepEqual failures
not ok 6 JSON: A small object deepEqual failure
  ---
    operator: deepEqual
    expected: |-
      { b: [ 12, 9 ], a: 'bar', c: 'foobar' }
    actual: |-
      { a: 'foo', b: [ 11, 9 ], c: { foo: 'bar' } }
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:38:5)
    stack: |-
      Error: JSON: A small object deepEqual failure
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:38:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
not ok 7 JSON: Shallow TAP output cannot be diffed, still fails
  ---
    operator: deepEqual
    expected: |-
      { id: 'Grandad', children: [ { id: 'Dad', children: [ { id: 'Me', children: [Array] } ] }, { id: 'Aunt', children: [] } ] }
    actual: |-
      { id: 'Grandad', children: [ { id: 'Dad', children: [ { id: 'Me', children: [Array] } ] }, { id: 'Aunt', children: [] } ] }
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:44:5)
    stack: |-
      Error: JSON: Shallow TAP output cannot be diffed, still fails
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:44:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
not ok 8 Object: with function will be diffed as a string
  ---
    operator: deepEqual
    expected: |-
      { name: 'Duncan', house: 'Atreides', fight: [Function: fight] }
    actual: |-
      { name: 'Gurney', house: 'Atreides', play: [Function: play] }
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:84:5)
    stack: |-
      Error: Object: with function will be diffed as a string
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:84:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
not ok 9 Object vs JSON: reported as different types; not diffed
  ---
    operator: deepEqual
    expected: |-
      { name: 'Duncan', house: 'Atreides', fight: '⚔️' }
    actual: |-
      { name: 'Gurney', house: 'Atreides', play: [Function: play] }
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:98:5)
    stack: |-
      Error: Object vs JSON: reported as different types; not diffed
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:98:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
# Multi-line string failures
not ok 10 Multi-line string failures are diffed as strings
  ---
    operator: equal
    expected: |-
      '<html>\n  <head>\n    <title>My Page</title>\n  </head>\n  <body>\n    <page-title>HTML First!</page-title>\n  </body>\n</html>'
    actual: |-
      '<html>\n  <head>\n    <title>My Page</title>\n  </head>\n  <body>\n    <web-counter count="42"></web-counter>\n  </body>\n</html>'
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:116:5)
    stack: |-
      Error: Multi-line string failures are diffed as strings
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.strictEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:643:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:116:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
# Deeply nested object failures
not ok 11 Nested JSON diffs
  ---
    operator: deepEqual
    expected: |-
      { id: 'Grandad', children: [ { id: 'Dad', children: [ { id: 'Me', children: [] } ] }, { id: 'Aunt', children: [ 'Son' ] } ] }
    actual: |-
      { id: 'Grandad', children: [ { id: 'Dad', children: [ { id: 'Me', children: [ 'Daughter' ] } ] }, { id: 'Aunt', children: [] } ] }
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:144:5)
    stack: |-
      Error: Nested JSON diffs
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:144:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
# Mixed type failures
not ok 12 JSON vs string failure
  ---
    operator: deepEqual
    expected: |-
      'foobar baz'
    actual: |-
      { a: 'foo', b: [ 11, 9 ], c: { foo: 'bar' } }
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:188:5)
    stack: |-
      Error: JSON vs string failure
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.tapeDeepEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:720:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:188:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...
not ok 13 Number vs string failure
  ---
    operator: equal
    expected: 'foobar baz'
    actual:   666
    at: Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:194:5)
    stack: |-
      Error: Number vs string failure
          at Test.assert [as _assert] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:479:48)
          at Test.strictEqual (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:643:7)
          at Test.<anonymous> (/Users/tbeseda/dev/architect/tap-arc/test/mock/create-diff-tap.cjs:194:5)
          at Test.run (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/test.js:113:28)
          at Immediate.next [as _onImmediate] (/Users/tbeseda/dev/architect/tap-arc/node_modules/tape/lib/results.js:157:7)
          at process.processImmediate (node:internal/timers:476:21)
  ...

1..13
# tests 13
# pass  0
# fail  13

